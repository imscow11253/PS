# [Gold V] 물병 - 1052 

[문제 링크](https://www.acmicpc.net/problem/1052) 

### 성능 요약

메모리: 2020 KB, 시간: 24 ms

### 분류

수학, 그리디 알고리즘, 비트마스킹

### 제출 일자

2026년 2월 27일 21:32:39

### 문제 설명

<p>지민이는 N개의 물병을 가지고 있다. 각 물병에는 물을 무한대로 부을 수 있다. 처음에 모든 물병에는 물이 1리터씩 들어있다. 지민이는 이 물병을 또 다른 장소로 옮기려고 한다. 지민이는 한 번에 K개의 물병을 옮길 수 있다. 하지만, 지민이는 물을 낭비하기는 싫고, 이동을 한 번보다 많이 하기는 싫다. 따라서, 지민이는 물병의 물을 적절히 재분배해서, K개를 넘지 않는 비어있지 않은 물병을 만들려고 한다.</p>

<p>물은 다음과 같이 재분배 한다.</p>

<blockquote>
<p>먼저 같은 양의 물이 들어있는 물병 두 개를 고른다. 그 다음에 한 개의 물병에 다른 한 쪽에 있는 물을 모두 붓는다. 이 방법을 필요한 만큼 계속 한다.</p>
</blockquote>

<p>이런 제약 때문에, N개로 K개를 넘지않는 비어있지 않은 물병을 만드는 것이 불가능할 수도 있다. 다행히도, 새로운 물병을 살 수 있다. 상점에서 사는 물병은 물이 1리터 들어있다.</p>

<p>예를 들어, N=3이고, K=1일 때를 보면, 물병 3개로 1개를 만드는 것이 불가능하다. 한 병을 또다른 병에 부으면, 2리터가 들어있는 물병 하나와, 1리터가 들어있는 물병 하나가 남는다. 만약 상점에서 한 개의 물병을 산다면, 2리터가 들어있는 물병 두 개를 만들 수 있고, 마지막으로 4리터가 들어있는 물병 한 개를 만들 수 있다.</p>

### 입력 

 <p>첫째 줄에 N과 K가 주어진다. N은 10<sup>7</sup>보다 작거나 같은 자연수이고, K는 1,000보다 작거나 같은 자연수이다.</p>

### 출력 

 <p>첫째 줄에 상점에서 사야하는 물병의 최솟값을 출력한다. 만약 정답이 없을 경우에는 -1을 출력한다.</p>
 
### 풀이 

 <p>처음엔 그냥 단순하게 그대로 시뮬레이션 하려고 했다. multiset을 사용해서 동일한 물병이 있으면 합치는 식으로 했다. 그런데 시간 초과가 났다. 당연하다. 심지어 online IDE에서도 무척 오래 걸렸다. 문제 태그를 보니, 비트마스킹이었다. 그래서 아 아진수에다가 1을 더해가는 구조이구나 싶었는데, 이진수의 1의 개수를 셀 방법이 떠오르지 않아 GPT한테 물어보니 아주 유용한 cpp 함수를 알려주었다. __builtin_popcount 라는 함수를 쓰면 인자로 들어온 숫자의 이진수에서 1의 개수를 리턴한다. 심지어 라이브러리를 include 할 필요도 없다. </p>

