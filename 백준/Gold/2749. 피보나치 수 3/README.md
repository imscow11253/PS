# [Gold II] 피보나치 수 3 - 2749 

[문제 링크](https://www.acmicpc.net/problem/2749) 

### 성능 요약

메모리: 2020 KB, 시간: 4 ms

### 분류

수학, 분할 정복을 이용한 거듭제곱, 피사노 주기

### 제출 일자

2025년 12월 18일 18:10:51

### 문제 설명

<p>피보나치 수는 0과 1로 시작한다. 0번째 피보나치 수는 0이고, 1번째 피보나치 수는 1이다. 그 다음 2번째 부터는 바로 앞 두 피보나치 수의 합이 된다.</p>

<p>이를 식으로 써보면 F<sub>n</sub> = F<sub>n-1</sub> + F<sub>n-2</sub> (n ≥ 2)가 된다.</p>

<p>n=17일때 까지 피보나치 수를 써보면 다음과 같다.</p>

<p>0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597</p>

<p>n이 주어졌을 때, n번째 피보나치 수를 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 n이 주어진다. n은 1,000,000,000,000,000,000보다 작거나 같은 자연수이다.</p>

### 출력 

 <p>첫째 줄에 n번째 피보나치 수를 1,000,000으로 나눈 나머지를 출력한다.</p>

 ### 풀이 

<p>피보나치를 푸는 새로운 방법을 알았다. 피보나치를 푸는 방법의 가장 naive한 방법은 바로 재귀를 돌리는 것이다. 그러면 계산했던 식에 대해서 또 계산을 하기 때문에 시간이 오래 걸린다. 여기서 dp 점화식을 사용해서 bottom to top으로 풀거나, 재귀에서 memoization을 사용해서 풀수도 있다. 그런데 이번 문제는 dp를 사용해서 O(n)으로 풀어보 시간초과가 나는 문제였다. 푸는 방법을 모르겠어서 찾아보니 피사노 주기라는 것이 있었다. 피보나치 수를 특정 수 m으로 나누면 일정한 주기가 생성된다는 것이다. 이 문제에서는 1,000,000으로 나눈 값을 물어보았으니 피사노 주기가 적용된다는 것이다. 근데 그 주기가 얼마나 되는지는 공식을 통해서 알아야 한다. 1,000,000 = 10^k 일때 주기는 15 * 10^(k-1)이 된다. 즉 나같은 범부는 피보나치수를 나누는 수가 10의 거듭제곱 형태일 때만 사용가능한 것이다. 이 문제에서 주기는 1,500,000인 것이다. 즉 피보나치를 1,500,000 까지만 구하고 n을 1,500,000으로 나눈 값의 피보나치를 구하면 된다. 메모리 초과가 나서 일차원 배열로 안구하고 계산해나가는 형식을 썼다. </p>

